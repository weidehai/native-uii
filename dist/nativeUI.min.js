!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Nui=e():t.Nui=e()}(self,(function(){return(()=>{var t={294:function(t,e){!function(t){"use strict";function e(t){return void 0===t}function n(t){return null===t}t.appendHTML=function(t,e){let n=document.createElement("div"),o=document.createDocumentFragment(),i=null;n.innerHTML=e,i=n.childNodes,i.forEach((t=>{o.appendChild(t.cloneNode(!0))})),t.appendChild(o)},t.arcTodeg=function(t){return 180*t/Math.PI},t.arrayInsert=function(t,e,n){let o=n.splice(t);return o.unshift(e),n.concat(o)},t.degToarc=function(t){return Math.PI*t/180},t.isFunction=function(t){return"function"==typeof t},t.isNull=n,t.isUndefined=e,t.mergeOption=function(t,o){for(let i of Object.keys(o))!e(t[i])&&!n(t[i])||e(o[i])||n(o[i])||(t[i]=o[i]);return t},t.reliableFloatAdd=function(){let t=arguments,e=0;function n(){return Array.prototype.map.call(t,(t=>{let n=t.toString().split(".")[1];n&&(e=Math.max(n.length,e))})),e}function o(t){let n=t.toString().split(".")[1],o=0;return n&&(o=n.length),+(t.toString().replace(".","")+function(t){let e="";if(!(t<0)){for(;t;)e+="0",t--;return e}}(e-o))}let i=Math.pow(10,n());return Array.prototype.reduce.call(arguments,((t,e)=>t+o(e)),0)/i},t.throttler=function(t,e){let n=Date.now();return function(...o){Date.now()-n>e&&(t(...o),n=Date.now())}},t.trimAllWhiteSpace=function(t){return t.replace(/\s+/g,"")},Object.defineProperty(t,"__esModule",{value:!0})}(e)}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{"use strict";n.r(o),n.d(o,{Prompt:()=>i,YearPicker:()=>e});var t=n(294);const e=function(){function e(t,e){this.startYear=t,this.endYear=e,this.slider=null,this.slideDistance=0,this.itemCount=e-t+1,this.startItem=4,this.perItemHeight=30,this.instance=null,this.onConfirm=null,this.top=this.perItemHeight*(this.startItem-1),this.bottom=-this.perItemHeight*(this.itemCount-this.startItem),this.init()}function n(t=1947,o=2021){return e.instance=new e(t,o),(n=function(){return e.instance})()}return e.prototype.init=function(){this.setStyle(),this.render(),this.addEvent()},e.prototype.setStyle=function(){let t=document.createElement("style");t.innerText="body {\n      padding: 0;\n      margin: 0;\n    }\n    div[mask]{\n      height:100vh;\n      width:100vw;\n      background-color:#464e531c;\n      position: absolute;\n      top:0;\n      left:0;\n      display:none;\n    }\n    div[datepicker] {\n      position: fixed;\n      bottom: -240px;\n      height: 240px;\n      width: 100vw;\n      transition: all 0.5s;\n      background-color:white;\n    }\n    .box-shadow-bottom-1px {\n      box-shadow: inset 0px -1px 1px -1px #c8c7cc;\n    }\n    .box-shadow-top-and-bottom-1px {\n      box-shadow: inset 0px -1px 1px -1px #c8c7cc,inset 0px 1px 1px -1px #c8c7cc;\n    }\n    div[action] {\n      height: 30px;\n      display: flex;\n      flex-direction: row;\n      padding: 5px;\n      box-sizing: border-box;\n      color: #0bb3ffc2;\n    }\n    div[button] {\n      flex: 1;\n      text-align: center;\n    }\n    div[years] {\n      height: 210px;\n      overflow: hidden;\n    }\n    .slider {\n      transition: all 0.3s;\n    }\n    .slider > div {\n      text-align: center;\n      height: 30px;\n      line-height: 30px;\n    }\n    .selectedLine {\n      position: absolute;\n      height: 30px;\n      width: 100vw;\n      top: 120px;\n      z-index: -999;\n    }",document.head.appendChild(t)},e.prototype.show=function(){document.querySelector("[datePicker]").style.bottom="0",document.querySelector("[mask]").style.display="block"},e.prototype.render=function(){let e='<div mask></div><div datePicker>\n        <div action>\n            <div button cancle class="box-shadow-bottom-1px">取消</div>\n            <div button confirm>确定</div>\n        </div>\n        <div years>\n            <div class="slider">{{years}}</div>\n        </div>\n        <div class="selectedLine box-shadow-top-and-bottom-1px"></div>\n    </div>';e=e.replace(/{{years}}/,this.generateYears()),(0,t.appendHTML)(document.body,e)},e.prototype.slide=function(){this.slider.style.transform=`translateY(${this.handleDistance(this.slideDistance)}px)`},e.prototype.handleDistance=function(t){return t>=this.top&&(t=this.top),t<this.bottom&&(t=this.bottom),this.slideDistance=t},e.prototype.generateYears=function(){let t=this.startYear,e=this.endYear,n="";for(;t<=e;)n+=`<div>${t}</div>`,t++;return n},e.prototype.cancle=function(){this.close()},e.prototype.confirm=function(){selected=Math.abs(this.slideDistance/30-3)+this.startYear,this.onConfirm&&this.onConfirm(selected),this.close()},e.prototype.close=function(){document.querySelector("[datePicker]").style.bottom="-240px",document.querySelector("[mask]").style.display="none"},e.prototype.addEvent=function(){let t,e,n=this;function o(t){e=t.targetTouches[0].pageY}function i(r){let s=Math.round((e-t)/n.perItemHeight)*n.perItemHeight;n.slideDistance=n.slideDistance+s,n.slider.removeEventListener("touchmove",o),n.slider.removeEventListener("touchend",i),n.slide()}this.slider=document.querySelector(".slider"),this.slideArea=document.querySelector("[years]"),document.querySelector("[mask]").onclick=this.close,document.querySelector("div[action]>div[cancle]").onclick=()=>{this.cancle()},document.querySelector("div[action]>div[confirm]").onclick=()=>{this.confirm()},this.slideArea.addEventListener("touchstart",(e=>{e.preventDefault(),e.stopPropagation(),t=e.targetTouches[0].pageY,this.slideArea.addEventListener("touchmove",o),this.slideArea.addEventListener("touchend",i)}))},n}(),i=function(){function e(){this.init()}return e.prototype.init=function(){this.setStyle(),this.render()},e.prototype.setStyle=function(){let t=document.createElement("style");t.innerText="div[promptBox-y] {\n            position: absolute;\n            top: 48%;\n            width: 100vw;\n            text-align: center;\n            z-index: 100;\n        }\n        span[prompt-y] {\n            margin: 0 auto;\n            background: #333333;\n            opacity:0.8;\n            color: white;\n            padding: 2vw 3vw;\n            font-size: 3vw;\n            border-radius: 0.8vw;\n            display: none;\n        }",document.head.appendChild(t)},e.prototype.render=function(){(0,t.appendHTML)(document.body,"<div promptBox-y>\n            <span prompt-y></span>\n        </div>")},e.prototype.show=function(t,e=null){document.querySelector("[prompt-y]").innerHTML=t,document.querySelector("[prompt-y]").style.width=4*t.length+"vw",document.querySelector("[prompt-y]").style.display="block",e&&this.close(e)},e.prototype.close=function(t){setTimeout((function(){document.querySelector("[prompt-y]").style.display="none"}),t)},function(){return e.instance?e.instance:e.instance=new e}}()})(),o})()}));